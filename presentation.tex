%
% presentation.tex
%

\input{config}

\begin{document}

Let $\mathbf{C} \in \mathbf{Cat}$. Recall the nerve and geometric realization.
Write $X_\mathbf{C} = |N\mathbf{C}|$.
\begin{question*}
\label{eq:intro-question}
For which (connected) categories $\mathbf{C} \in \mathbf{Cat}$ does there exist a geometric morphism
\[
\Sh(X_{\mathbf{C}}) \to \mathbf{Set}^{\mathbf{C}^{op}}
\]
which induces an isomorphism of profinite groups
\[ \widehat{\pi}_1(|N\mathbf{C}|, |p|) \cong \pi_1\left(\mathbf{Set}^{\mathbf{C}^{op}}, p \right)\; ? \]
\end{question*}

\begin{definition*}
\index{McCord space}
\label{def:star sieve}
Let $\mathbf{C}$ be a category, $N \mathbf{C}$ the simplicial nerve and $X_\mathbf{C} = |N \mathbf{C} |$. Let $\mathbf{C}/A$ be the slice category over $A$. Write $D_f$ for the domain of a morphism $f$. We define the \emph{McCord space} of $A$ to be the topological space
\[ \ST(A) := \left(\bigsqcup_{f \in \mathbf{C}/A} D_f^* \right) / \sim. \]
Elements of the coproduct $\bigsqcup D_f^*$ may be denoted as tuples $(f,p)$ where $f : D_f \to A$ is an object of the slice category $\mathbf{C}/A$ and $p \in D_f^* \subset X_{\mathbf{C}}$. 
Let $\rhd$ be the binary relation defined by $(f,p) \rhd (g,q) \iff p = q$ in $X_{\mathbf{C}}$ and there exists a morphism $h : f \to g$ in $\mathbf{C}/A$ and there exists an $n$-simplex $\sigma \in \st(h)$ such that $p \in \Int(\sigma)$.
This relation is reflexive, but in general neither symmetric nor transitive. Let $\sim$ be the smallest equivalence relation generated by $\rhd$.
\end{definition*}

Define a map of sets
\[ e_A : \ST(A) \to X_{\mathbf{C}}, \qquad [f,p] \mapsto p. \]

\begin{definition*}
Let $f : A \to B$ be a morphism in $\mathbf{C}$. Then we have a functor $\mathbf{C}/f : \mathbf{C}/A \to \mathbf{C}/B$ given by sending an object $g \in \mathbf{C}/A$ to the composition $f \circ g$. Define a map $\mu(f) : \mu(A) \to \mu(B)$ as sending an equivalence class $[g,p] \in \mu(A)$ to the equivalence class $[f \circ g, p]$.
\end{definition*}

\begin{corollary*}
\label{coro:we have a McCord functor}
\index{McCord functor}
$\ST : \mathbf{C} \to \mathbf{LH}/X_{\mathbf{C}}$ is a functor.
\end{corollary*}

\begin{definition*}
\label{def:support at a point}
Let $p \in X_\mathbf{C}$. We define the \emph{support} of $p$ to be the full subcategory of $\mathbf{C}$ given by
\[ \mathbf{C}(p) := \left(\begin{array}{c} A \in \mathbf{C} : p \in A^* \\ + \\ \text{morphisms from $\mathbf{C}$} \end{array} \right). \]
\end{definition*}

\begin{theorem*}
\label{thm:mccord functor generalizes the mccord map}
Let $\mathbf{C}$ be a finite $T_0$-space, or equivalently a finite poset. For each $x \in \mathbf{C}$, denote its minimal open set around $x$ by $U_x$. Then there is a natural homeomorphism
\[ \ST(x) \cong \mu_\mathbf{C}^{-1}(U_x). \]
\end{theorem*}
\begin{proof}
I claim that the etale map $e_x : \ST(x) \to X_\mathbf{C}$ has a section on $\mu_\mathbf{C}^{-1}(U_x) \subset X_\mathbf{C}$. Take a point $p \in \mu_\mathbf{C}^{-1}(U_x)$. Write $M_p = \min \mathbf{C}(p)$. 
Then $M_p \in U_x$, so $M_p \leq x$. Write $u : M_p \to x$ for the unique morphism. We now have $[u,p] \in \ST(x)$. 
Define
\[ s_x : \mu_\mathbf{C}^{-1}(U_x) \to \ST(x) \]
by sending the point $p$ to $[u,p]$. The definition of $s_x$ is unambiguous, because there is only one choice for $u$. Clearly we have $e_x \circ s_x = \id_{\mu_{\mathbf{C}}^{-1}\left(U_x \right)}$. So $s_x$ is a section. We shall now prove that $s_x \circ e_x = \id_{\ST(x)}$. Take $[g,p] \in \ST(x)$ and suppose that $(s_x \circ e_x)([g,p]) = [u,p]$. We want to show that $[g,p] = [u,p]$. Note that $g : D_g \to x$ is unique. Moreover, $D_g \in \mathbf{C}(p)$, so $M_p \leq D_g$. Let $h : M_p \to D_g$ be the unique morphism. Again by uniqueness, $h \circ g = u$. We now have a morphism $h : g \to u$ in $\mathbf{C}/x$, and $(g,h) \in \st(h)$ with $p \in \Int(g,h)$. So $[g,p] = [u,g]$.
\end{proof}

\begin{definition*}
\label{def:alexandroff cat}
We say $\mathbf{C}$ is an \emph{Alexandroff} category if for all $p \in X_{\mathbf{C}}$
\begin{enumerate}
	\item the support $\mathbf{C}(p)$ is totally ordered with a (unique) minimal element $M_p$, and
	\item for every $A \in \mathbf{C}$ and for every $[f,p] \in e_A^{-1}(p)$ there exists a unique morphism $m : M_p \to D_f$ with the property that there is an $n$-simplex $\sigma \in \st(m)$ with $p \in \Int(\sigma)$.
\end{enumerate}
\end{definition*}

\begin{definition*}
\label{def:well-fibered}
We say that $\mathbf{C}$ is \emph{well-fibered} if for all $p \in X_\mathbf{C}$ there exists an object $B \in \mathbf{C}$ such that $p^* \circ \ST \cong \Hom_\mathbf{C}(B,-)$.
\end{definition*}

\begin{lemma*}
\label{lem:alexandroff implies well-fibered}
If $\mathbf{C}$ is Alexandroff, then it is well-fibered.
\end{lemma*}
\begin{proof}
Let $p \in X_{\mathbf{C}}$. The claim is that $p^* \circ \ST \cong \Hom_{\mathbf{C}}(M_p,-)$, where $M_p$ is defined as in \cref{def:alexandroff cat}. In other words, we need to find a natural isomorphism $\alpha : p^* \circ \ST \to \Hom_{\mathbf{C}}\left(M_p,-\right)$. To that end, define $\beta : \Hom_{\mathbf{C}}\left( M_p, - \right) \to p^* \circ \ST$ as follows. For each component $A \in \mathbf{C}$, we set 
\[ \beta_A : \Hom_{\mathbf{C}}\left(M_p,A \right) \to e^{-1}_A\left(p \right), \qquad h \mapsto [h,p]. \]
Then naturality of $\beta$ is clear. The natural transformation $\beta$ will be the inverse for the natural transformation $\alpha$. For the natural transformation $\alpha$, define it as follows.

Take $[g,p] \in e^{-1}_A(p)$. 
Then $g : D_g \to A$ and $p \in D_g^*$. 
So $D_g \in \mathbf{C}(p)$. Since $\mathbf{C}$ is Alexandroff, there exists a unique morphism $m : M_p \to D_g$ with the property that there is some $\sigma \in \st(m)$ such that $p \in \Int(\sigma)$. For each component $A \in \mathbf{C}$, we set
\[ \alpha_A : e^{-1}_A(p) \to \Hom_{\mathbf{C}}\left(M_p, A \right), \qquad [g,p] \mapsto g \circ m. \]
Because this $m$ is unique, $\alpha_A$ is well-defined. Observe now that
\[ \left(\beta_A \circ \alpha_A\right)[g,p] = [g \circ m, p]. \]
But $m$ has the property that we are also given a simplex $\sigma \in \st(m)$ such that $p \in \Int(\sigma)$. That means that $(g \circ m,p) \rhd (g,p)$, so $[g \circ m,p] = [g,p]$. In the other direction we find
\[ \left(\alpha_A \circ \beta_A \right)(h) = h, \]
so we conclude that $\alpha$ and $\beta$ are each other's inverse transformations.
\end{proof}

\begin{lemma*}
\label{lem:well-fibered implies flat}
If $\mathbf{C}$ is well-fibered, then $\mu : \mathbf{C} \to \mathbf{LH}/X_{\mathbf{C}}$ is flat.
\end{lemma*}
\begin{proof}
By \cref{lem:has enough points}, it suffices to prove that for every $p \in X_{\mathbf{C}}$ the functor $p^* \circ \mu : \mathbf{C} \to \mathbf{Set}$ is flat. This is the same thing as proving that the category of elements $\int_{\mathbf{C}} \left( p^* \circ \mu \right)$ is filtered, by \cref{thm:flat iff filtering}. Since $\mathbf{C}$ is well-fibered, there exists some object $B \in \mathbf{C}$ such that $p^* \circ \mu \cong \Hom_{\mathbf{C}}\left(B,-\right)$. Therefore,
\[ \int_\mathbf{C} \left( p^* \circ \mu \right) \cong \int_{\mathbf{C}} \Hom_{\mathbf{C}}\left(B, - \right) \cong B \backslash \mathbf{C}. \]
Now the over-category $B \backslash \mathbf{C}$ is always filtered, because $\id_B : B \to B$ is an initial object.
\end{proof}

So we see that when $\mathbf{C}$ is Alexandroff, $\mu$ is flat.

\begin{proposition*}
\label{prop:the geometric morphism induced by ST}
There exists a geometric morphism
\[ \tau(\ST) : \mathbf{LH}/X_{\mathbf{C}} \to \mathbf{Set}^{\mathbf{C}^{op}} \]
for which the left-exact left adjoint $\tau(\ST)^*$ is given by sending a presheaf $P$ on $\mathbf{C}$ to the tensor product $P \otimes_{\mathbf{C}} \ST$, and for which the right adjoint $\tau(\ST)_*$ sends an etale space $e : E \to X_{\mathbf{C}}$ to the presheaf $\underline{\Hom}_{\mathbf{LH}/X_{\mathbf{C}}}\left(\ST, E\right)$ defined for every object $A \in \mathbf{C}$ by
\[ \underline{\Hom}_{\mathbf{LH}/X_{\mathbf{C}}}\left(\ST, E \right)(A) = \Hom_{\mathbf{LH}/X_{\mathbf{C}}}\left(\ST(A), E \right). \]
\end{proposition*}
\begin{proof}
Follows directly from the theory in \cite[Chapter VII, Paragraph 7]{MacLaneMoerdijk91}. In particular, in \cite[Theorem VII.7.2]{MacLaneMoerdijk91}, take $\mathscr{E} = \mathbf{LH}/X_{\mathbf{C}}$. Alternatively, we spoke of the bijection between flat functors and geometric morphisms in \cref{thm:geometric morphisms correpsond to flat functors to E}.
\end{proof}

We shall be needing the following proposition.

\begin{proposition*}
\label{prop:if two maps agree on a point then they are equal from szamuely}
Let $p : Y \to X$ be a (not necessarily finite) covering map, where $Y$ is a topological space and $X$ is a locally connected space. Let $f,g : Z \to Y$ be two continuous maps satisfying $p \circ f= p \circ g$, where $Z$ is a connected topological space. If there is a point $z \in Z$ with $f(z) = g(z)$, then $f=g$.
\end{proposition*}
\begin{proof}
This is \cite[Proposition 2.2.2]{szamuely}. We'll give a sketch of the proof here. Let $U = \{w \in Z : f(w) = g(w)\}$. Then prove that $U$ is both open and closed in $Z$. Conclude that $U$ must be all of $Z$ by connectedness.
\end{proof}

The following proposition is central.

\begin{proposition*}
\label{coro:number of LHs is d if the degree is d}
Let $\pi_E : E \to X_\mathbf{C}$ be a finite covering map of degree $d>0$ and let $A$ be an object of $\mathbf{C}$. Then we have a natural bijection of sets
\[ \alpha_{A,E} : \left(\mathbf{LH}/X_\mathbf{C} \right)\left(\mu A, E \right) \to \pi_E^{-1}(|A|), \qquad \varphi \mapsto \varphi[\id_A, |A|]. \]
\end{proposition*}
\begin{proof}
By \cref{lem:alexandroff implies trivial endomorphisms},
\[ e_A^{-1}(|A|) = \left\{ \left[ \id_A, |A| \right] \right\} \subset \ST(A). \]
Write
\[ \pi_E^{-1}(|A|) = \{x_1,\ldots,x_d\} \subset E. \]
Now take a morphism $\varphi \in (\mathbf{LH}/X_{\mathbf{C}})(\ST(A), E)$. Then
\[ \varphi[\id_A, |A|] \in \{x_1,\ldots,x_d\}. \]
I claim that these $d$ choices for $\varphi[\id_A,|A|]$ completely determine $\varphi$. 
So let $\psi \in (\mathbf{LH}/X_{\mathbf{C}})(\ST(A),E)$ be another morphism and suppose that
\[ \varphi[\id_A,|A|] = x_1 = \psi[\id_A,|A|]. \]
We will apply \cref{prop:if two maps agree on a point then they are equal from szamuely}. 
Take $Y = E$, $X = X_{\mathbf{C}}$, $Z = \ST(A)$, $p = \pi_E$, $f = \varphi$, $g = \psi$ and $z = [\id_A,|A|]$ in \cref{prop:if two maps agree on a point then they are equal from szamuely}. 
Then $X_{\mathbf{C}}$ is a locally connected space, because it is a CW-complex by \cite[Proposition I.2.3]{goersjardinne09}. Moreover, $\ST(A)$ is connected by \cref{lem:ST is connected for every object A}. Finally,
\[ p \circ f = \pi_E \circ \varphi = e_A = \pi_E \circ \varphi = p \circ g. \]
This proves that
\[ \# \left(\mathbf{LH}/X_\mathbf{C} \right)\left(\mu A, E \right) \leq d. \]
Let us now prove that the map $\alpha_{A,E}$ is surjective. 
Thus, given $x \in \pi_E^{-1}(|A|)$ we want to show that there exists some $\varphi \in (\mathbf{LH}/X_{\mathbf{C}})(\ST A, E)$ such that $\varphi[\id_A,|A|] = x$. We shall actually construct such a $\varphi$. First, observe that $\pi_E$ is a Serre fibration. Then apply \cref{prop:if two maps agree on a point then they are equal from szamuely} to see that any two lifts of some $|\sigma| : \Delta^n \to X_{\mathbf{C}}$ are unique. For each $f \in \mathbf{C}/A$ (and so in particular for $\id_A$) we have a commutative diagram
\[ \begin{tikzcd}
\Delta^0 \arrow[hook]{r}{x} \arrow[hook, swap]{d}{|d_0|} & E \arrow{d}{\pi_E} \\
\Delta^1 \arrow[swap]{r}{|f|} \arrow[dashed]{ur}{\exists ! \widetilde{f}} & X_{\mathbf{C}} \end{tikzcd} \]
and a unique diagonal filler $\widetilde{f} : \Delta^1 \to E$ as indicated by the dotted arrow in the diagram. Thus we have a collection of lifted paths $\widetilde{f} : \Delta^n \to E$ all ending up at the point $x \in E$ and starting at some arbitrary point in $E$. Let us call the starting point $\widetilde{f}(0)$. 

Now let $[f,p] \in \ST(A)$ be an arbitrary point. We are going to define what $\varphi[f,p]$ is. We have $f : D_f \to A$ and $p \in D_f^*$, so $p \in \Int(\sigma)$ for some $n$-simplex $\sigma \in \st(D_f)$. We may assume that $\sigma$ is non-degenerate by \cref{lem:eilenberg-zilber}.
If $n=0$, then $p=|D_f|$. In that case, we define
\[ \varphi[f,p] := \widetilde{f}(0). \]
Suppose now that $n>0$. Let $\theta : \mathbf{0} \to \mathbf{n}$ be an injective order-preserving map as in \cref{eq:sigma is eventual face of tau diagram} such that $D_f = \sigma \circ \mathbf{\Delta}(-,\theta)$. Then we have a commutative diagram
\[ \begin{tikzcd}
\Delta^0 \arrow[hook]{r}{\widetilde{f}(0)} \arrow[hook, swap]{d}{|\mathbf{\Delta}(-,\theta)|} & E \arrow{d}{\pi_E} \\
\Delta^n \arrow[swap]{r}{|\sigma|} \arrow[dashed]{ur}{\exists ! \widetilde{\sigma}} & X_{\mathbf{C}} \end{tikzcd} \]
and a unique diagonal filler $\widetilde{\sigma} : \Delta^n \to E$.  
Let $t \in \Delta^n$ be the unique coordinates such that $p = |\sigma|(t)$. We define
\[ \varphi[f,p] := \widetilde{\sigma}(t). \]
We must prove that this definition is independent of the chosen representative of the equivalence relation in $\ST(A)$. 
So suppose that $(f,p) \rhd (g,p)$. Then $p \in \Int(\sigma_f)$ and $p \in \Int(\sigma_g)$ for some $\sigma_f$ having $D_f$ as a vertex and some $\sigma_g$ having $D_g$ as a vertex. Suppose that we have uniquely lifted $\sigma_f$ and $\sigma_g$ to maps
\[ \Delta^n \xrightarrow{\widetilde{\sigma_f}} E, \qquad \Delta^m \xrightarrow{\widetilde{\sigma_g}} E. \]
Let $t_f \in \Delta^n$ and $t_g \in \Delta^m$ be the unique coordinates such that
\[ |\sigma_f|(t_f) = p = |\sigma_g|(t_g). \]
By the definition of $\rhd$, There exists a morphism $h : f \to g$ in $\mathbf{C}/A$ and a $k$-simplex $\tau \in \st(h)$ such that $p \in \Int(\tau)$. Consider first the $2$-simplex $\beta$ given by
\[ \beta = (h,g) : \mathbf{\Delta}(-, \mathbf{2}) \to N\mathbf{C}. \]
Let $\widetilde{\beta} : \Delta^2 \to E$ be the unique lift of $|\beta| : \Delta^2 \to X_{\mathbf{C}}$. By \cite[Exercise A.1]{AlgebraicTopologyBible}, the face of a lift is the lift of a face, so we see that two of the faces of $\widetilde{\beta}$ upstairs in $E$ are the lifts $\widetilde{f}$ and $\widetilde{g}$. Denote by $\widetilde{h}$ the third lift of $|h| : \Delta^1 \to X_{\mathbf{C}}$.

We may assume by \cref{lem:eilenberg-zilber} that $\tau$, $\sigma_f$ and $\sigma_g$ are non-degenerate.
This implies that $\tau = \sigma_f = \sigma_g$, and $n=m=k$, and $t_f = t_g$. Let $\theta' : \mathbf{1} \to \mathbf{m}$ be an injective order-preserving map as in \cref{eq:sigma is eventual face of tau diagram} such that $h = \tau \circ \mathbf{\Delta}(-,\theta')$. Then we have a commutative diagram
\[ \begin{tikzcd}
\Delta^1 \arrow{r}{\widetilde{h}} \arrow[hook, swap]{d}{|\mathbf{\Delta}(-,\theta')|} & E \arrow{d}{\pi_E} \\
\Delta^m \arrow[swap]{r}{|\tau|} \arrow[dashed]{ur}{\exists ! \widetilde{\tau}} & X_{\mathbf{C}} \end{tikzcd} \]
By uniqueness of the lifts, $\widetilde{\sigma_f} = \widetilde{\sigma_g} = \widetilde{\tau}$.

Continuity of $\varphi$ follows from the fact that all the liftings $\widetilde{\sigma} : \Delta^n \to E$ from the continuous maps $|\sigma| : \Delta^n \to X_{\mathbf{C}}$ are continuous. Moreover, the realization $X_{\mathbf{C}}$ is defined as the colimit
\[ X_{\mathbf{C}} = \colim_{\stackrel{\mathbf{\Delta}(-,\mathbf{n}) \to N\mathbf{C}}{\text{in } \mathbf{\Delta} \downarrow N\mathbf{C}}}\Delta^n \]
So the gluing data comes from $X_{\mathbf{C}}$.

\end{proof}


\begin{theorem*}
\label{thm:equivalence of categories}
If $\pi : E \to X_{\mathbf{C}}$ is a finite covering map, then $\underline{\Hom}_{\mathbf{LH}/X_{\mathbf{C}}}\left(\ST, E \right)$ is a locally constant finite presheaf on $\mathbf{C}$. Conversely, if $P$ is a locally constant finite presheaf on $\mathbf{C}$, then $P \otimes_{\mathbf{C}} \ST$ has the structure of a finite covering space over $X_{\mathbf{C}}$.
\end{theorem*}
\begin{proof}
The claim that $P \otimes_{\mathbf{C}} \ST$ is a finite covering map whenever $P \in \left(\mathbf{Set}^{\mathbf{C}^{op}}\right)_{\lcf}$ is covered in \cref{prop:standard LCF properties for the LCF topos}. (Use \cref{thm:equivalence of categories between etale spaces and sheaves} there for the translation between sheaves and etale spaces). Explicitly, the finite covering map is given by
\[ \pi : P \otimes_{\mathbf{C}} \ST \to X_{\mathbf{C}}, \qquad x \otimes [f,p] \mapsto p. \]
The degree of $\pi$ is the number of elements in $P(A)$, for any $A \in \mathbf{C}$. This is well-defined by \cref{prop:locally constant iff every restriction map is a bijection} and the assumption that $X_{\mathbf{C}}$ is connected.

We shall prove the other direction, which is the remarkable one. So we want to show that given a finite covering map $\pi_E : E \to X_\mathbf{C}$ and given a morphism $f : A \to B$ in $\mathbf{C}$, the map
\begin{equation}
\label{eq:ST hom map between locally const finites}
(\mathbf{LH}/X_\mathbf{C})(\ST B, E) \to (\mathbf{LH}/X_\mathbf{C})(\ST A, E), \qquad \varphi \mapsto \varphi \circ \ST(f)
\end{equation}
is a bijection. By \cref{coro:number of LHs is d if the degree is d}, it suffices to prove that the map in \cref{eq:ST hom map between locally const finites} is injective. So take two morphisms $\varphi, \psi \in (\mathbf{LH}/X_\mathbf{C})(\ST B, E)$ and suppose that $ \varphi \circ \ST(f) = \psi \circ \ST(f)$. We want to prove that $\varphi = \psi$. In \cref{prop:if two maps agree on a point then they are equal from szamuely}, take $Y = E$, $X = X_{\mathbf{C}}$, $Z = \ST(B)$, $p = \pi_E$, $f = \varphi$, $g = \psi$. As in the proof of \cref{coro:number of LHs is d if the degree is d}, all conditions of \cref{prop:if two maps agree on a point then they are equal from szamuely} are satisfied, except that we need to supply a point $[h,p] \in \ST(B)$ such that $\varphi[h,p] = \psi[h,p]$. But we know that
\[ \forall \; [g,p] \in \ST(A) : \varphi[f \circ g,p] = \psi[f \circ g, p]. \]
Now $\ST(A)$ is non-empty, because $[\id_A, |A|] \in \ST(A)$. Therefore
\[ \varphi[f, |A|] = \psi[f, |A|] \]
and we are done.
\end{proof}

\begin{proposition*}
\label{prop:the counit of the adjunction is an isomorphism}
Let $E \in \mathbf{FinCov}/X_{\mathbf{C}}$. Then the counit at the component $E$
\[ \underline{\Hom}_{\mathbf{LH}/X_{\mathbf{C}}}\left(\ST, E\right) \otimes_{\mathbf{C}} \ST \to E \]
of the adjunction $- \otimes_{\mathbf{C}} \ST \dashv \underline{\Hom}_{\mathbf{LH}/X_{\mathbf{C}}}\left(\ST,-\right)$ is an isomorphism.
\end{proposition*}
\begin{proof}
The counit is given by the continuous map over the base space $X_{\mathbf{C}}$
\[ \varepsilon_E : \underline{\Hom}_{\mathbf{LH}/X_{\mathbf{C}}}\left(\ST, E\right) \otimes_{\mathbf{C}} \ST \to E, \qquad \varphi \otimes [f,p] \mapsto \varphi\left([f,p]\right), \]
where $\varphi \in \left(\mathbf{LH}/X_{\mathbf{C}}\right)(\ST(A),E)$ for some $A \in \mathbf{C}$ and $[f,p] \in \ST(A)$. Like for sheaves, it suffices to prove that $\varepsilon_E$ is an isomorphism on the level of stalks, i.e. fibers of the finite covering maps. First of all, it suffices to look at points $p$ of the form $p = |A|$ for some object $A \in \mathbf{C}$, for recall (viz. \cref{def:well-fibered}, \cref{lem:alexandroff implies well-fibered}) that $\ST$ is well-fibered, so that $p^* \circ \ST \cong \Hom(M_p,-)$. This gives
\begin{align*}
p^* \circ \left( \underline{\Hom}_{\mathbf{LH}/X_{\mathbf{C}}}\left(\ST, E\right) \otimes_{\mathbf{C}} \ST \right) 
&\cong \underline{\Hom}_{\mathbf{LH}/X_{\mathbf{C}}}\left(\ST, E\right) \otimes_{\mathbf{C}} \left( p^* \circ \ST \right) 
\\
&\cong \underline{\Hom}_{\mathbf{LH}/X_{\mathbf{C}}}\left(\ST, E\right) \otimes_{\mathbf{C}} \Hom\left(M_p,-\right)
\\
&\cong \underline{\Hom}_{\mathbf{LH}/X_{\mathbf{C}}}\left(\ST, E\right) \left(M_p \right) \\
&= \Hom_{\mathbf{LH}/X_{\mathbf{C}}}\left(\ST(M_p), E\right) \\
&\cong \pi_E^{-1}\left(|M_p| \right)
\end{align*}
Now if we follow the isomorphisms, the composition is precisely the counit.
\end{proof}

A similar thing occurs with the unit.

\begin{proposition*}
\label{prop: the unit of the adjunction is an isomorphism}
Let $P$ be a locally constant finite presheaf. Then the unit of the adjunction $-\otimes_{\mathbf{C}} \ST \dashv \underline{\Hom}_{\mathbf{LH}/X_{\mathbf{C}}}\left(\ST,-\right)$ at the component $P$ is an isomorphism.
\end{proposition*}
\begin{proof}
The unit is a map of presheaves
\begin{equation}
\label{eq:the unit of the adjunction equation}
\eta : P \to \uHomLHOverXC{\ST}{P\otimes_{\mathbf{C}} \ST}
\end{equation}
which for a given object $A \in \mathbf{C}$ is a map of sets
\[ \eta_A : P(A) \to \HomLHOverXC{\ST(A)}{P \otimes_{\mathbf{C}} \ST} \]
and, since $\mathbf{LH}/X_{\mathbf{C}}$ is cartesian closed (because it is a topos), this is the same thing as giving a map of sets
\[ \eta_A^\top : P(A) \times \ST(A) \to P \otimes \ST \]
and this map is given by
\[ \eta_A^\top(x, [f,p]) = x \otimes [f,p]. \]
Now the isomorphism in \cref{coro:number of LHs if size of P(A) from ST(A) to the tensor product} is precisely the unit.
\end{proof}

\begin{corollary*}
\label{coro:left and right adjoint restrict to an equivalence of categories for lcf}
The left and right adjoint of \cref{prop:the geometric morphism induced by ST} restrict to an equivalence of categories
\[ \mathbf{FinCov}/X_{\mathbf{C}} \cong \left(\mathbf{Set}^{\mathbf{C}^{op}}\right)_{\lcf}. \]
\end{corollary*}
\begin{proof}
Apply \cref{prop: the unit of the adjunction is an isomorphism} and \cref{prop:the counit of the adjunction is an isomorphism}.
\end{proof}

\begin{corollary*}
\label{coro:isomorphism of profinite groups}
Let $A \in \mathbf{C}$ be an object. Then there is a natural isomorphism of profinite groups
\[ \widehat{\pi}_1\left(X_\mathbf{C}, |A|\right) \cong \pi_1 \left( \mathbf{Set}^{\mathbf{C}^{op}}, A \right). \]
\end{corollary*}
\begin{proof}
Interpret $A$ as a geometric morphism (point)
\[ A : \mathbf{Set} \to \mathbf{Set}^{\mathbf{C}^{op}} \]
where the inverse image part sends a presheaf $P$ on $\mathbf{C}$ to $P(A)$, and the direct image part sends a set $S$ to the ``underline Hom'' from \cref{constr:how to get points}. So $A$ is a point of the topos $\mathbf{Set}^{\mathbf{C}^{op}}$.
The category $\left(\mathbf{Set}^{\mathbf{C}^{op}}\right)_{\lcf}$ is a Galois category with fundamental functor given by the inverse image part of the point $A$. From \cref{coro:left and right adjoint restrict to an equivalence of categories for lcf}, we obtain
\[ \pi_1 \left( \mathbf{Set}^{\mathbf{C}^{op}}, A \right) \cong \pi_1 \left( \Sh(X_\mathbf{C}), |A| \right). \]
Then from \cite[Theorem 1.15, or 3.10]{lenstra08}, we obtain
\[ \pi_1 \left( \Sh(X_\mathbf{C}), |A| \right) \cong \widehat{\pi}_1\left(X_\mathbf{C}, |A|\right). \]
\end{proof}

\begin{example*}
Take $\mathbf{C}$ to be the graph category $x \rightrightarrows y$ with $f,g : x \to y$. Then $X_{\mathbf{C}}$ is a circle with fundamental group $\Z$, so \cref{coro:isomorphism of profinite groups} tells us that
\[ \pi_1 \left( \mathbf{Sets}^{\mathbf{C}^{op}}, x\right) = \widehat{\Z}. \] Compare this with section 3.3.
\end{example*}

\begin{example*}
Take $\mathbf{C}$ to be the (co)equalizer category from \cref{ex:ST of the equalizer category} or \cref{ex:ST of the coequalizer category}. Both realizations $X_{\mathbf{C}}$ are disks, so we can immediately conclude that $\pi_1 \left( \mathbf{Set}^{\mathbf{C}^{op}}, x \right) = 0$.
\end{example*}

\begin{example*}
Take $\mathbf{C}$ to be the category given by $x \rightrightarrows y \leftleftarrows z$. Then the realization $X_{\mathbf{C}}$ is a figure-8. The fundamental group of the figure-8 can be computed using the Van Kampen theorem to find that $\pi_1\left(\mathbf{Set}^{\mathbf{C}^{op}}, x\right) = \widehat{\Z * \Z}$.
\end{example*}

\begin{example*}
Take $\mathbf{C}$ to be any finite poset. Then the fundamental group of $\mathbf{Set}^{\mathbf{C}^{op}}$ is the profinite completion of the fundamental group of $\mathbf{C}$ viewed as a finite $T_0$-space by \cref{thm:mccord functor generalizes the mccord map}.
\end{example*}

\begin{color}{red}
\begin{definition*}
A topos $\mathscr{E}$ is said to \emph{have enough points} if 
\end{definition*}
\end{color}

\end{document}